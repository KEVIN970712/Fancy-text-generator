<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script>
        (function() {
            const preference = localStorage.getItem('theme');
            const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
            if (preference === 'dark' || (!preference && prefersDark)) {
                document.documentElement.classList.add('dark-mode');
            }
        })();
    </script>
    <title>èŠ±å¼æ–‡å­—ç”¢ç”Ÿå™¨ (Unicode)</title>
    <style>
        :root {
            /* äº®è‰²æ¨¡å¼ (é è¨­) */
            --bg-color: #f4f4f4;
            --container-bg: #ffffff;
            --text-color: #212529; /* æ›´æ·±çš„é»‘è‰² */
            --label-color: #495057;
            --border-color: #dee2e6; /* æ·ºç° */
            --output-bg: #e9ecef;
            --button-bg: #007bff;
            --button-hover-bg: #0056b3;
            --copy-button-bg: #28a745;
            --copy-button-hover-bg: #218838;
            --link-color: #0366d6;
            --separator-color: #e9ecef; /* åˆ†éš”ç·šé¡è‰² */
            --warning-text: #856404;
            --warning-bg: #fff3cd;
            --warning-border: #ffeeba;
            --toggle-button-bg: #eee;
            --toggle-button-hover-bg: #ddd;

            /* CSS è®Šæ•¸å®šç¾©ï¼Œæ–¹ä¾¿åˆ‡æ› */
            color-scheme: light; /* å‘ŠçŸ¥ç€è¦½å™¨ç•¶å‰è‰²å½©é…ç½® */
        }

        html.dark-mode {
            /* æš—è‰²æ¨¡å¼ */
            --bg-color: #121212; /* æ·±é»‘èƒŒæ™¯ */
            --container-bg: #1e1e1e; /* å®¹å™¨ç¨äº® */
            --text-color: #e0e0e0; /* æ·ºç°æ–‡å­— */
            --label-color: #adb5bd; /* æ¨™ç±¤é¡è‰² */
            --border-color: #495057; /* é‚Šæ¡†é¡è‰² */
            --output-bg: #343a40; /* è¼¸å‡ºå€åŸŸèƒŒæ™¯ */
            --button-bg: #0d6efd; /* äº®è—è‰²æŒ‰éˆ• */
            --button-hover-bg: #0b5ed7;
            --copy-button-bg: #198754; /* æš—ç¶ è‰² */
            --copy-button-hover-bg: #157347;
            --link-color: #58a6ff; /* GitHub æš—æ¨¡å¼é€£çµè— */
            --separator-color: #343a40; /* åˆ†éš”ç·šé¡è‰² */
            --warning-text: #f8d7da; /* æš—æ¨¡å¼è­¦å‘Šæ–‡å­— */
            --warning-bg: #491c20;  /* æš—æ¨¡å¼è­¦å‘ŠèƒŒæ™¯ */
            --warning-border: #842029; /* æš—æ¨¡å¼è­¦å‘Šé‚Šæ¡† */
            --toggle-button-bg: #333;
            --toggle-button-hover-bg: #444;

            color-scheme: dark; /* å‘ŠçŸ¥ç€è¦½å™¨ç•¶å‰è‰²å½©é…ç½® */
        }

        /* åŸºæœ¬æ¨£å¼ */
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif; /* ç³»çµ±é€šç”¨å­—é«” */
            line-height: 1.6;
            padding: 20px;
            margin: 0 auto; /* ç§»é™¤ max-widthï¼Œè®“ container è‡ªå·±æ§åˆ¶ */
            background-color: var(--bg-color);
            color: var(--text-color);
            transition: background-color 0.3s ease, color 0.3s ease;
        }

        .container {
            background-color: var(--container-bg);
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1); /* ç¨å¾®åŠ æ·±é™°å½± */
            max-width: 750px; /* é™åˆ¶æœ€å¤§å¯¬åº¦ */
            margin: 20px auto; /* ä¸Šä¸‹é‚Šè· + æ°´å¹³å±…ä¸­ */
            border: 1px solid var(--border-color);
            transition: background-color 0.3s ease, border-color 0.3s ease;
        }

        /* Header å€å¡Š */
        .header {
            display: flex;
            justify-content: space-between; /* æ¨™é¡Œé å·¦ï¼ŒæŒ‰éˆ•é å³ */
            align-items: center; /* å‚ç›´å±…ä¸­ */
            margin-bottom: 30px; /* èˆ‡ä¸‹æ–¹å…§å®¹é–“è· */
            padding-bottom: 15px; /* åº•éƒ¨ç•™ç™½ */
            border-bottom: 1px solid var(--separator-color); /* åˆ†éš”ç·š */
            transition: border-color 0.3s ease;
        }

        h1 {
            color: var(--text-color);
            /* ç§»é™¤ text-align: center */
            margin: 0; /* ç§»é™¤é è¨­é‚Šè· */
            font-size: 1.8rem; /* èª¿æ•´æ¨™é¡Œå¤§å° */
            transition: color 0.3s ease;
        }

        #theme-toggle {
            background-color: var(--toggle-button-bg);
            color: var(--text-color);
            border: 1px solid var(--border-color);
            border-radius: 50%; /* åœ“å½¢æŒ‰éˆ• */
            cursor: pointer;
            font-size: 1.2rem; /* åœ–ç¤ºå¤§å° */
            padding: 8px; /* å…§é‚Šè· */
            width: 40px; /* å›ºå®šå¯¬é«˜ */
            height: 40px;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease, transform 0.2s ease;
        }
        #theme-toggle:hover {
            background-color: var(--toggle-button-hover-bg);
            transform: scale(1.1); /* æ‡¸åœæ”¾å¤§æ•ˆæœ */
        }

        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600; /* åŠ ç²—ä¸€é» */
            color: var(--label-color);
            transition: color 0.3s ease;
        }

        textarea {
            width: 100%;
            padding: 12px; /* å¢åŠ å…§é‚Šè· */
            margin-bottom: 15px;
            border: 1px solid var(--border-color);
            border-radius: 6px; /* åœ“è§’ç¨å¤§ */
            box-sizing: border-box;
            font-size: 1rem;
            min-height: 90px;
            background-color: var(--container-bg); /* èˆ‡å®¹å™¨èƒŒæ™¯ä¸€è‡´æˆ–ç¨æœ‰å€åˆ¥ */
            color: var(--text-color);
            transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease;
        }
        textarea:focus {
            border-color: var(--button-bg); /* ç„¦é»æ™‚é‚Šæ¡†è®Šè‰² */
            box-shadow: 0 0 0 3px rgba(0, 123, 255, 0.25); /* æ¨¡æ“¬ Bootstrap ç„¦é»æ•ˆæœ */
            outline: none;
        }


        .output-area {
            width: 100%;
            padding: 15px;
            margin-bottom: 15px;
            border: 1px solid var(--border-color);
            border-radius: 6px;
            box-sizing: border-box;
            background-color: var(--output-bg);
            min-height: 100px;
            font-size: 1.1rem;
            white-space: pre-wrap;
            word-wrap: break-word;
            color: var(--text-color); /* ç¢ºä¿è¼¸å‡ºæ–‡å­—é¡è‰²ä¹Ÿåˆ‡æ› */
            transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease;
        }

        .buttons {
            margin-bottom: 25px; /* å¢åŠ ä¸‹æ–¹é–“è· */
            display: flex;
            flex-wrap: wrap;
            gap: 12px; /* æŒ‰éˆ•é–“è·ç¨å¤§ */
        }

        button:not(#theme-toggle) { /* ä¸åŒ…å«ä¸»é¡Œåˆ‡æ›æŒ‰éˆ• */
            padding: 10px 18px; /* å¢åŠ æŒ‰éˆ•å¤§å° */
            border: none;
            background-color: var(--button-bg);
            color: white;
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.95rem;
            transition: background-color 0.2s ease, transform 0.1s ease;
        }
        button:not(#theme-toggle):hover {
            background-color: var(--button-hover-bg);
            opacity: 0.9; /* æ‡¸åœé€æ˜åº¦ */
        }
        button:not(#theme-toggle):active {
            transform: scale(0.98); /* é»æ“Šç¸®å°æ•ˆæœ */
        }


        .copy-button {
            background-color: var(--copy-button-bg);
            transition: background-color 0.2s ease, transform 0.1s ease; /* ç¹¼æ‰¿ transition */
        }
        .copy-button:hover {
            background-color: var(--copy-button-hover-bg);
            opacity: 0.9;
        }

        .warning {
            font-size: 0.9em;
            color: var(--warning-text);
            background-color: var(--warning-bg);
            border: 1px solid var(--warning-border);
            border-radius: 6px;
            padding: 15px; /* å¢åŠ å…§é‚Šè· */
            margin-top: 25px;
            transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease;
        }
        .warning ul {
            padding-left: 20px; /* åˆ—è¡¨ç¸®é€² */
            margin-bottom: 0; /* ç§»é™¤åˆ—è¡¨åº•éƒ¨å¤–é‚Šè· */
        }


        .note {
            font-size: 0.9em;
            color: var(--label-color); /* ä½¿ç”¨æ¨™ç±¤é¡è‰² */
            margin-top: 25px;
            border-top: 1px solid var(--separator-color);
            padding-top: 20px;
            transition: color 0.3s ease, border-color 0.3s ease;
        }
        .note ul {
            padding-left: 20px;
            margin-bottom: 0;
        }
        .note strong {
            color: var(--text-color); /* å¼·èª¿æ–‡å­—é¡è‰² */
        }


        /* GitHub é€£çµæ¨£å¼ */
        .github-link {
            text-align: center;
            margin-top: 35px;
            padding-top: 25px;
            border-top: 1px solid var(--separator-color);
            font-size: 0.9em;
            color: var(--label-color);
            transition: color 0.3s ease, border-color 0.3s ease;
        }
        .github-link a {
            color: var(--link-color);
            text-decoration: none;
            transition: color 0.3s ease;
        }
        .github-link a:hover {
            text-decoration: underline;
        }

        /* Toast è¨Šæ¯æ¨£å¼ */
        #toast-container {
            position: fixed; /* å›ºå®šåœ¨è¢å¹•ä¸Š */
            top: 20px; /* è·é›¢é ‚éƒ¨ä¸€äº›è·é›¢ */
            left: 50%; /* æ°´å¹³å±…ä¸­ */
            transform: translateX(-50%); /* èª¿æ•´ä»¥å¯¦ç¾ç²¾ç¢ºå±…ä¸­ */
            z-index: 1000; /* ç¢ºä¿åœ¨å…¶ä»–å…ƒç´ ä¹‹ä¸Š */
            pointer-events: none; /* é˜²æ­¢é˜»æ“‹é»æ“Šäº‹ä»¶ */
        }

        .toast {
            background-color: rgba(0, 0, 0, 0.8); /* åŠé€æ˜é»‘è‰²èƒŒæ™¯ */
            color: white;
            padding: 10px 20px;
            border-radius: 5px;
            margin-bottom: 10px;
            opacity: 0; /* åˆå§‹æ™‚éš±è— */
            transition: opacity 0.3s ease-in-out, transform 0.3s ease-in-out;
            transform: translateY(-20px); /* åˆå§‹æ™‚åœ¨ä¸Šæ–¹ */
            font-size: 0.9em;
        }

        .toast.show {
            opacity: 1;
            transform: translateY(0);
        }
    </style>
</head>
<body>

<div class="container">
    <div class="header">
        <h1>èŠ±å¼æ–‡å­—ç”¢ç”Ÿå™¨</h1> <button id="theme-toggle" aria-label="åˆ‡æ›è‰²å½©ä¸»é¡Œ" title="åˆ‡æ›è‰²å½©ä¸»é¡Œ">
        </button>
    </div>

    <label for="inputText">è¼¸å…¥æ–‡å­—ï¼š</label>
    <textarea id="inputText" placeholder="åœ¨é€™è£¡è¼¸å…¥æˆ–è²¼ä¸Šä½ çš„æ–‡å­—..."></textarea>

    <label>é¸æ“‡è½‰æ›æ¨£å¼ï¼š</label>
    <div class="buttons">
        <button onclick="convertToStyledText('bold')">ç²—é«” (Bold)</button>
        <button onclick="convertToStyledText('italic')">æ–œé«” (Italic)</button>
        <button onclick="convertToStyledText('boldItalic')">ç²—æ–œé«” (Bold Italic)</button>
        <button onclick="convertToStyledText('strikethrough')">åˆªé™¤ç·š (Strikethrough)</button>
        <button onclick="convertToStyledText('mathScript')">èŠ±é«” (Math Script)</button>
    </div>

    <label for="outputResult">æ¨£å¼è¼¸å‡ºçµæœï¼š</label>
    <div id="outputResult" class="output-area">è½‰æ›å¾Œçš„æ–‡å­—æœƒé¡¯ç¤ºåœ¨é€™è£¡...</div>
    <button onclick="copyOutput()" class="copy-button">è¤‡è£½è¼¸å‡ºçµæœ</button>

    <div class="warning">
        <strong>é‡è¦æç¤ºï¼š</strong>
        <ul>
            <li>é€™è£¡ç”¢ç”Ÿçš„æ–‡å­—ä½¿ç”¨äº†ç‰¹æ®Šçš„ Unicode å­—ç¬¦ä¾†æ¨¡æ“¬æ¨£å¼ã€‚</li>
            <li>**é¡¯ç¤ºæ•ˆæœä¾è³´æ‚¨è£ç½®ä¸Šçš„å­—å‹æ”¯æ´**ï¼Œå°¤å…¶æ–œé«”å’Œç²—æ–œé«”ï¼Œä»¥åŠæ–°å¢çš„èŠ±é«”ï¼Œåœ¨æŸäº›è£ç½®æˆ–å¹³å°ä¸Šå¯èƒ½ç„¡æ³•æ­£ç¢ºé¡¯ç¤ºï¼ˆå¯èƒ½çœ‹èµ·ä¾†åƒæ™®é€šæ–‡å­—æˆ–é¡¯ç¤ºç‚º â˜ï¼‰ã€‚</li>
            <li>é€™äº›ç‰¹æ®Šå­—ç¬¦å¯èƒ½å½±éŸ¿è¢å¹•é–±è®€å™¨å’Œæœå°‹åŠŸèƒ½ã€‚</li>
            <li>é€™ä¸¦éæ¨™æº–çš„ Markdown èªæ³•ã€‚</li>
        </ul>
    </div>
    <div class="note">
        <p><strong>ä½¿ç”¨èªªæ˜ï¼š</strong></p>
        <ul>
            <li>åœ¨ã€Œè¼¸å…¥æ–‡å­—ã€æ¬„ä½è¼¸å…¥æ–‡å­—ã€‚</li>
            <li>é»æ“Šæ‚¨æƒ³è¦çš„æ¨£å¼æŒ‰éˆ•ã€‚</li>
            <li>ä¸‹æ–¹ã€Œæ¨£å¼è¼¸å‡ºçµæœã€å€åŸŸæœƒé¡¯ç¤ºå¸¶æœ‰è¦–è¦ºæ¨£å¼çš„æ–‡å­—ã€‚</li>
            <li>é»æ“Šã€Œè¤‡è£½è¼¸å‡ºçµæœã€å°‡é€™äº›ç‰¹æ®Šå­—ç¬¦è¤‡è£½åˆ°å‰ªè²¼ç°¿ã€‚</li>
            <li>æ‚¨å¯ä»¥å˜—è©¦å°‡è¤‡è£½çš„æ–‡å­—è²¼åˆ°ç¤¾ç¾¤åª’é«”ã€èŠå¤©æ‡‰ç”¨ç­‰åœ°æ–¹ï¼Œä½†é¡¯ç¤ºæ•ˆæœå–æ±ºæ–¼å°æ–¹å¹³å°åŠæ‚¨è£ç½®çš„å­—å‹æ˜¯å¦æ”¯æ´é€™äº› Unicode å­—ç¬¦ã€‚</li>
        </ul>
    </div>

    <div class="github-link">
        <p>
            åœ¨ GitHub ä¸ŠæŸ¥çœ‹æ­¤å°ˆæ¡ˆçš„åŸå§‹ç¢¼ï¼š<br>
            <a href="https://github.com/KEVIN970712/Fancy-text-generator" target="_blank" rel="noopener noreferrer" title="å‰å¾€ KEVIN970712/Fancy-text-generator GitHub Repository">
                KEVIN970712/Fancy-text-generator
            </a>
        </p>
    </div>
</div>

<div id="toast-container"></div>

<script>
    // --- Unicode å­—ç¬¦æ˜ å°„è¡¨ ---
    const charMaps = {
        bold: { a: 'ğ—®', b: 'ğ—¯', c: 'ğ—°', d: 'ğ—±', e: 'ğ—²', f: 'ğ—³', g: 'ğ—´', h: 'ğ—µ', i: 'ğ—¶', j: 'ğ—·', k: 'ğ—¸', l: 'ğ—¹', m: 'ğ—º', n: 'ğ—»', o: 'ğ—¼', p: 'ğ—½', q: 'ğ—¾', r: 'ğ—¿', s: 'ğ˜€', t: 'ğ˜', u: 'ğ˜‚', v: 'ğ˜ƒ', w: 'ğ˜„', x: 'ğ˜…', y: 'ğ˜†', z: 'ğ˜‡', A: 'ğ—”', B: 'ğ—•', C: 'ğ—–', D: 'ğ——', E: 'ğ—˜', F: 'ğ—™', G: 'ğ—š', H: 'ğ—›', I: 'ğ—œ', J: 'ğ—', K: 'ğ—', L: 'ğ—Ÿ', M: 'ğ— ', N: 'ğ—¡', O: 'ğ—¢', P: 'ğ—£', Q: 'ğ—¤', R: 'ğ—¥', S: 'ğ—¦', T: 'ğ—§', U: 'ğ—¨', V: 'ğ—©', W: 'ğ—ª', X: 'ğ—«', Y: 'ğ—¬', Z: 'ğ—­', 0: 'ğŸ¬', 1: 'ğŸ­', 2: 'ğŸ®', 3: 'ğŸ¯', 4: 'ğŸ°', 5: 'ğŸ±', 6: 'ğŸ²', 7: 'ğŸ³', 8: 'ğŸ´', 9: 'ğŸµ' },
        italic: { a: 'ğ˜¢', b: 'ğ˜£', c: 'ğ˜¤', d: 'ğ˜¥', e: 'ğ˜¦', f: 'ğ˜§', g: 'ğ˜¨', h: 'ğ˜©', i: 'ğ˜ª', j: 'ğ˜«', k: 'ğ˜¬', l: 'ğ˜­', m: 'ğ˜®', n: 'ğ˜¯', o: 'ğ˜°', p: 'ğ˜±', q: 'ğ˜²', r: 'ğ˜³', s: 'ğ˜´', t: 'ğ˜µ', u: 'ğ˜¶', v: 'ğ˜·', w: 'ğ˜¸', x: 'ğ˜¹', y: 'ğ˜º', z: 'ğ˜»', A: 'ğ˜ˆ', B: 'ğ˜‰', C: 'ğ˜Š', D: 'ğ˜‹', E: 'ğ˜Œ', F: 'ğ˜', G: 'ğ˜', H: 'ğ˜', I: 'ğ˜', J: 'ğ˜‘', K: 'ğ˜’', L: 'ğ˜“', M: 'ğ˜”', N: 'ğ˜•', O: 'ğ˜–', P: 'ğ˜—', Q: 'ğ˜˜', R: 'ğ˜™', S: 'ğ˜š', T: 'ğ˜›', U: 'ğ˜œ', V: 'ğ˜', W: 'ğ˜', X: 'ğ˜Ÿ', Y: 'ğ˜ ', Z: 'ğ˜¡' },
        boldItalic: { a: 'ğ™–', b: 'ğ™—', c: 'ğ™˜', d: 'ğ™™', e: 'ğ™š', f: 'ğ™›', g: 'ğ™œ', h: 'ğ™', i: 'ğ™', j: 'ğ™Ÿ', k: 'ğ™ ', l: 'ğ™¡', m: 'ğ™¢', n: 'ğ™£', o: 'ğ™¤', p: 'ğ™¥', q: 'ğ™¦', r: 'ğ™§', s: 'ğ™¨', t: 'ğ™©', u: 'ğ™ª', v: 'ğ™«', w: 'ğ™¬', x: 'ğ™­', y: 'ğ™®', z: 'ğ™¯', A: 'ğ˜¼', B: 'ğ˜½', C: 'ğ˜¾', D: 'ğ˜¿', E: 'ğ™€', F: 'ğ™', G: 'ğ™‚', H: 'ğ™ƒ', I: 'ğ™„', J: 'ğ™…', K: 'ğ™†', L: 'ğ™‡', M: 'ğ™ˆ', N: 'ğ™‰', O: 'ğ™Š', P: 'ğ™‹', Q: 'ğ™Œ', R: 'ğ™', S: 'ğ™', T: 'ğ™', U: 'ğ™', V: 'ğ™‘', W: 'ğ™’', X: 'ğ™“', Y: 'ğ™”', Z: 'ğ™¯' },
        mathScript: { a: 'ğ’¶', b: 'ğ’·', c: 'ğ’¸', d: 'ğ’¹', e: 'â„¯', f: 'ğ’»', g: 'â„Š', h: 'ğ’½', i: 'ğ’¾', j: 'ğ’¿', k: 'ğ“€', l: 'ğ“', m: 'ğ“‚', n: 'ğ“ƒ', o: 'ğ‘œ', p: 'ğ“…', q: 'ğ“†', r: 'ğ“‡', s: 'ğ“ˆ', t: 'ğ“‰', u: 'ğ“Š', v: 'ğ“‹', w: 'ğ“Œ', x: 'ğ“', y: 'ğ“', z: 'ğ“', A: 'ğ’œ', B: 'â„¬', C: 'ğ’', D: 'ğ’Ÿ', E: 'â„°', F: 'â„±', G: 'ğ’¢', H: 'â„‹', I: 'â„', J: 'ğ’¥', K: 'ğ’¦', L: 'â„’', M: 'â„³', N: 'ğ’©', O: 'ğ’ª', P: 'ğ’«', Q: 'ğ’¬', R: 'â„›', S: 'ğ’®', T: 'ğ’¯', U: 'ğ’°', V: 'ğ’±', W: 'ğ’²', X: 'ğ’³', Y: 'ğ’´', Z: 'ğ’µ' }
    };

    // --- DOM å…ƒç´ ç²å– ---
    const inputTextElem = document.getElementById('inputText');
    const outputResultElem = document.getElementById('outputResult');
    const themeToggleButton = document.getElementById('theme-toggle');
    const rootElement = document.documentElement; // HTML æ ¹å…ƒç´ 
    const toastContainer = document.getElementById('toast-container'); // æ–°å¢

    // --- æ–‡å­—è½‰æ›å‡½æ•¸ (ä¿æŒä¸è®Š) ---
    function convertToStyledText(style) {
        const text = inputTextElem.value;
        let result = '';
        outputResultElem.innerText = 'è™•ç†ä¸­...';
        setTimeout(() => {
            if (style === 'strikethrough') {
                for (let i = 0; i < text.length; i++) {
                    result += text[i] + '\u0336';
                }
            } else {
                const map = charMaps[style];
                if (!map) { result = text; }
                else {
                    for (let i = 0; i < text.length; i++) {
                        const char = text[i];
                        result += map[char] || char;
                    }
                }
            }
            outputResultElem.innerText = result || 'è½‰æ›å¾Œçš„æ–‡å­—æœƒé¡¯ç¤ºåœ¨é€™è£¡...';
        }, 10);
    }

    // --- é¡¯ç¤º toast è¨Šæ¯çš„å‡½æ•¸ ---
    function showToast(message) {
        const toast = document.createElement('div');
        toast.classList.add('toast');
        toast.textContent = message;
        toastContainer.appendChild(toast);
        setTimeout(() => {
            toast.classList.add('show');
            setTimeout(() => {
                toast.classList.remove('show');
                setTimeout(() => {
                    toastContainer.removeChild(toast);
                }, 300); // ç­‰å¾…æ·¡å‡ºå‹•ç•«çµæŸå¾Œç§»é™¤å…ƒç´ 
            }, 2000); // é¡¯ç¤º 2 ç§’
        }, 10); // ç¨å¾®å»¶é²ä»¥è§¸ç™¼å‹•ç•«
    }

    // --- è¤‡è£½å‡½æ•¸ (ä¿®æ”¹) ---
    function copyOutput() {
        const textToCopy = outputResultElem.innerText;
        if (!textToCopy || textToCopy === 'è½‰æ›å¾Œçš„æ–‡å­—æœƒé¡¯ç¤ºåœ¨é€™è£¡...' || textToCopy === 'è™•ç†ä¸­...') {
            showToast('è¼¸å‡ºå€åŸŸæ²’æœ‰å…§å®¹å¯ä»¥è¤‡è£½ï¼');
            return;
        }
        if (navigator.clipboard && navigator.clipboard.writeText) {
            navigator.clipboard.writeText(textToCopy).then(() => {
                showToast('å·²æˆåŠŸè¤‡è£½åˆ°å‰ªè²¼ç°¿ï¼\n\nè«‹æ³¨æ„ï¼šè²¼ä¸Šå¾Œçš„æ•ˆæœå–æ±ºæ–¼ç›®æ¨™å¹³å°åŠæ‚¨è£ç½®çš„å­—å‹æ”¯æ´ã€‚');
            }).catch(err => {
                console.error('ç„¡æ³•è¤‡è£½æ–‡å­—: ', err);
                showToast('è¤‡è£½å¤±æ•—ï¼æ‚¨çš„ç€è¦½å™¨å¯èƒ½ä¸æ”¯æ´æˆ–å·²é˜»æ­¢æ­¤æ“ä½œã€‚\n\nè«‹å˜—è©¦æ‰‹å‹•é¸å–æ–‡å­—ä¸¦è¤‡è£½ã€‚');
                selectText(outputResultElem);
            });
        } else {
            showToast('æ‚¨çš„ç€è¦½å™¨å¯èƒ½ä¸æ”¯æ´è‡ªå‹•è¤‡è£½åŠŸèƒ½ã€‚\n\nè«‹å˜—è©¦æ‰‹å‹•é¸å–æ–‡å­—ä¸¦è¤‡è£½ã€‚');
            selectText(outputResultElem);
        }
    }

    function selectText(node) {
        if (window.getSelection) {
            const selection = window.getSelection();
            const range = document.createRange();
            range.selectNodeContents(node);
            selection.removeAllRanges();
            selection.addRange(range);
        } else { console.warn("ç„¡æ³•è‡ªå‹•é¸å–æ–‡å­—ã€‚"); }
    }

    // --- ä¸»é¡Œåˆ‡æ›é‚è¼¯ ---
    const sunIcon = 'â˜€ï¸';
    const moonIcon = 'ğŸŒ™';

    // æ‡‰ç”¨ä¸»é¡Œä¸¦æ›´æ–°æŒ‰éˆ•åœ–ç¤º
    function applyTheme(theme) {
        if (theme === 'dark') {
            rootElement.classList.add('dark-mode');
            themeToggleButton.textContent = sunIcon; // æš—æ¨¡å¼é¡¯ç¤ºå¤ªé™½åœ–ç¤º
            localStorage.setItem('theme', 'dark');
        } else {
            rootElement.classList.remove('dark-mode');
            themeToggleButton.textContent = moonIcon; // äº®æ¨¡å¼é¡¯ç¤ºæœˆäº®åœ–ç¤º
            localStorage.setItem('theme', 'light');
        }
    }

    // åˆ‡æ›ä¸»é¡Œå‡½æ•¸
    function toggleTheme() {
        const currentTheme = rootElement.classList.contains('dark-mode') ? 'dark' : 'light';
        const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
        applyTheme(newTheme);
    }

    // åˆå§‹åŒ–ä¸»é¡Œ
    function initializeTheme() {
        const savedTheme = localStorage.getItem('theme');
        const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;

        if (savedTheme) {
            applyTheme(savedTheme); // å„ªå…ˆä½¿ç”¨æœ¬åœ°å„²å­˜çš„è¨­å®š
        } else {
            // å¦å‰‡æ ¹æ“šè£ç½®åå¥½è¨­å®š
            applyTheme(prefersDark ? 'dark' : 'light');
        }
    }

    // æ·»åŠ åˆ‡æ›æŒ‰éˆ•äº‹ä»¶ç›£è½å™¨
    themeToggleButton.addEventListener('click', toggleTheme);

    // é é¢è¼‰å…¥æ™‚åˆå§‹åŒ–ä¸»é¡Œ
    document.addEventListener('DOMContentLoaded', initializeTheme);

    // (å¯é¸) ç›£è½ç³»çµ±ä¸»é¡Œè®ŠåŒ–ï¼Œå¦‚æœä½¿ç”¨è€…æ²’æœ‰æ‰‹å‹•è¨­å®šéï¼Œå‰‡è·Ÿéš¨ç³»çµ±
    window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', event => {
        // åªæœ‰åœ¨ä½¿ç”¨è€…æ²’æœ‰æ‰‹å‹•é¸æ“‡éä¸»é¡Œæ™‚æ‰è·Ÿéš¨ç³»çµ±è®ŠåŒ–
        if (!localStorage.getItem('theme')) {
            applyTheme(event.matches ? 'dark' : 'light');
        }
    });

</script>

</body>
</html>
